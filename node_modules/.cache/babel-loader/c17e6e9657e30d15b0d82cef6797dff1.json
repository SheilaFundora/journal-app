{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useRef, useState } from 'react';\n\nconst UseFetch = url => {\n  _s();\n\n  const [state, setState] = useState({\n    data: null,\n    loading: true,\n    error: null\n  });\n  const isMounted = useRef(true);\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []); //efecto q se lanza si se desmonta un componente\n\n  useEffect(() => {\n    setState({\n      data: null,\n      loading: true,\n      error: null\n    });\n    fetch(url).then(resp => resp.json()).then(data => {\n      if (isMounted.current) {\n        // ahora validamos si esta montado llamo el useState sino no\n        setState({\n          loading: false,\n          error: null,\n          data\n        });\n      }\n    });\n  }, [url]);\n  return state;\n};\n\n_s(UseFetch, \"wRnfkHui6So0xdCA23r2OmrEAOA=\");\n\n_c = UseFetch;\nexport default UseFetch;\n\nvar _c;\n\n$RefreshReg$(_c, \"UseFetch\");","map":{"version":3,"names":["useEffect","useRef","useState","UseFetch","url","state","setState","data","loading","error","isMounted","current","fetch","then","resp","json"],"sources":["/home/erielmejias99/files/project/React/hooks-app/src/hooks/useFetch.js"],"sourcesContent":["import {useEffect, useRef, useState} from 'react';\n\nconst UseFetch = (url) => {\n    const [state, setState] = useState({data: null, loading: true, error : null});\n    const isMounted = useRef(true);\n\n    useEffect( () => {\n        return () => {\n            isMounted.current = false;\n        }\n    }, []) //efecto q se lanza si se desmonta un componente\n\n\n    useEffect( () => {\n        setState({data: null, loading: true, error : null});\n\n        fetch( url )\n            .then( resp => resp.json() )\n            .then( data => {\n                if ( isMounted.current ) {// ahora validamos si esta montado llamo el useState sino no\n                    setState({\n                        loading: false,\n                        error: null,\n                        data\n                    });\n                }\n\n            });\n\n    },[url]);\n\n    return state;\n};\n\nexport default UseFetch;\n\n\n"],"mappings":";;AAAA,SAAQA,SAAR,EAAmBC,MAAnB,EAA2BC,QAA3B,QAA0C,OAA1C;;AAEA,MAAMC,QAAQ,GAAIC,GAAD,IAAS;EAAA;;EACtB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBJ,QAAQ,CAAC;IAACK,IAAI,EAAE,IAAP;IAAaC,OAAO,EAAE,IAAtB;IAA4BC,KAAK,EAAG;EAApC,CAAD,CAAlC;EACA,MAAMC,SAAS,GAAGT,MAAM,CAAC,IAAD,CAAxB;EAEAD,SAAS,CAAE,MAAM;IACb,OAAO,MAAM;MACTU,SAAS,CAACC,OAAV,GAAoB,KAApB;IACH,CAFD;EAGH,CAJQ,EAIN,EAJM,CAAT,CAJsB,CAQf;;EAGPX,SAAS,CAAE,MAAM;IACbM,QAAQ,CAAC;MAACC,IAAI,EAAE,IAAP;MAAaC,OAAO,EAAE,IAAtB;MAA4BC,KAAK,EAAG;IAApC,CAAD,CAAR;IAEAG,KAAK,CAAER,GAAF,CAAL,CACKS,IADL,CACWC,IAAI,IAAIA,IAAI,CAACC,IAAL,EADnB,EAEKF,IAFL,CAEWN,IAAI,IAAI;MACX,IAAKG,SAAS,CAACC,OAAf,EAAyB;QAAC;QACtBL,QAAQ,CAAC;UACLE,OAAO,EAAE,KADJ;UAELC,KAAK,EAAE,IAFF;UAGLF;QAHK,CAAD,CAAR;MAKH;IAEJ,CAXL;EAaH,CAhBQ,EAgBP,CAACH,GAAD,CAhBO,CAAT;EAkBA,OAAOC,KAAP;AACH,CA9BD;;GAAMF,Q;;KAAAA,Q;AAgCN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}